# 패키지 매니저 : pnpm

상태 : proposed

## 역사

### 2024년 10월 18일 탐정토끼가 일단 PNPM로 시작함

## 맥락과 이유

npm 은 느리고 올드하다는 선입견이 있습니다. 요즘 다양한 패키지 매니저들의 춘추전국시대라 할 수 있습니다.

yarn은 yarn berry의 pnp 생태계에게 외면 당하면서 위기에 빠졌습니다. 실무에서 yarn pnp를 쓰면 테스트가 2배 느려지는 이슈도 겪었고요. 써보고 싶은 라이브러리나 익스텐션이 pnp를 지원하지 않기도 하며. pnp 파일을 직접 파고들면서 이슈를 수정하기도 여러번이었습니다.

pnp를 안 쓰면 된다고도 합니다만, pnp를 안 쓰면 yarn을 꼭 써야 하나 싶습니다.

bun은 1.0이 나왔지만 아직 마이너합니다. 캐시가 있을 경우 3초만에 설치가 되는 건 고무적이지만. 우리가 배포하는 환경은 node인데 패키지 매니저만 bun을 써야할지는 의문입니다.

deno도 비슷한 문제가 있습니다. JSR과 import map을 밀고 있는 deno의 행보는 멋진 일이고 한 번 시도해보고도 싶습니다만. 다시 강조하듯이 저희는 아직 node를 쓰고 있고 대안 런타임으로 갈아탈 생각은 아직 없습니다.

## 결정

[yarn 대신 pnpm 을 선택합니다.](https://engineering.ab180.co/stories/yarn-to-pnpm) 

## 유보

이 결정은 언제라도 번복할 수 있고, 이사를 가는 비용은 크지 않으리라 생각합니다. yarn pnp와 달리 git에 영구적으로 대량의 zip 파일이 남는 것도 아니니까요.